<!DOCTYPE html>
<html>
  <!--  This source code is exported from pxCode, you can get more document from https://www.pxcode.io  -->
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

    <!-- Please DO NOT remove this line, all link and script tags will be merged to here -->

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='HomePage.css') }}" />

    <script type="text/javascript" src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="text/javascript" src="https://unpkg.com/sticky-js@1.3.0/dist/sticky.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/headroom.js@0.12.0/dist/headroom.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  </head>

  <body class="flex-column">
    <div class="home-page root">
      <div class="flex_col">
        <h2 class="productTitle">Smart Parking <br />System</h2>
        <div class="wrapper1"><p class="wrapper11">Parking Building Floor Map</p></div>
        <div class="sitemap">
          <a class="wrapper11" href={{ url_for('homePage') }} >Parking Floor Map</a>
          <a class="wrapper11" href={{ url_for('visualizationDashboard') }} >Visualization Dashboard</a>
          <a class="wrapper11" href={{ url_for('cameraFeedDashBoard') }} >Camera Feed</a>
        </div>
        <div class="box">
          <div class="flex_col1">
            <div class="wrapper2">
                <div id="availabilityInfo" class="text">{{ result.availableSpace }} Parking Spots Available</div>
                <div id="pickABay" class="text"></div>
            </div>
            <div class="flex_col2">
              <div class="flex_row">
                <div class="wrapper3">
                  <div class="grid">
                    <div class="cell">
                      <div class="flex_row1">
                        <div class="wrapper4">
                          {% if result.perBay[0].status == 0 %}
                            <button id="bookBay1" class="btn" ><i id="car1" class="fa fa-car wrapper41" alt="alt text"></i></button>
                          {% else %}
                            <button id="bookBay1" class="btn"><i id="car1" class="fa fa-car wrapper41 dud" alt="alt text"></i></button>
                          {% endif %}
                        </div>
                        <div class="wrapper4">
                          {% if result.perBay[1].status == 0 %}
                            <button id="bookBay2" class="btn" ><i id="car2" class="fa fa-car wrapper41" alt="alt text"></i></button>
                          {% else %}
                            <button id="bookBay2" class="btn"><i id="car2" class="fa fa-car wrapper41 dud" alt="alt text"></i></button>
                          {% endif %}
                        </div>
                      </div>
                    </div>
                    <div class="cell1">
                      <div class="flex_row2">
                        <div class="info">{{ result.perBay[0].parkingBayName }}</div>
                        <div class="info">{{ result.perBay[1].parkingBayName }}</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="wrapper3">
                  <div class="grid">
                    <div class="cell2">
                      <div class="flex_row1">
                        <div class="wrapper4">
                          {% if result.perBay[2].status == 0 %}
                            <button id="bookBay3" class="btn" onclick="bookABay3()"><i id="car3" class="fa fa-car wrapper41 reserved" alt="alt text"></i></button>
                          {% else %}
                            <button id="bookBay3" class="btn"><i id="car3" class="fa fa-car wrapper41 dud" alt="alt text"></i></button>
                          {% endif %}
                        </div>
                        <div class="wrapper4">
                            <button class="btn"><i class="fa fa-car wrapper41 dud" alt="alt text"></i></button>
                        </div>
                      </div>
                    </div>
                    <div class="cell3">
                      <div class="flex_row2">
                        <div class="info">{{ result.perBay[2].parkingBayName }}</div>
                        <div class="info">A4</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex_row">
                <div class="wrapper3">
                  <div class="grid">
                    <div class="cell4">
                      <div class="flex_row1">
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                      </div>
                    </div>
                    <div class="cell5">
                      <div class="flex_row2">
                        <div class="info">B1</div>
                        <div class="info">B2</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="wrapper3">
                  <div class="grid">
                    <div class="cell6">
                      <div class="flex_row1">
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                      </div>
                    </div>
                    <div class="cell7">
                      <div class="flex_row2">
                        <div class="info">B3</div>
                        <div class="info">B4</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex_row">
                <div class="wrapper3">
                  <div class="grid">
                    <div class="cell8">
                      <div class="flex_row1">
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                      </div>
                    </div>
                    <div class="cell9">
                      <div class="flex_row2">
                        <div class="info">C1</div>
                        <div class="info">C2</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="wrapper3">
                  <div class="grid">
                    <div class="cell10">
                      <div class="flex_row1">
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                        <div class="wrapper4">
                            <i class="fa fa-car wrapper41 dud" alt="alt text"></i>
                        </div>
                      </div>
                    </div>
                    <div class="cell11">
                      <div class="flex_row2">
                        <div class="info">C3</div>
                        <div class="info">C4</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="wrapper">
          <p class="wrapper5">You can reserve a vacant parking bay by clicking at the yellow car icon</p>
          <a id="continueBooking" class="reserve_park" onClick="bookAParkingBay()" ><h5 class="highlight">Book A Space</h5></a>
        </div>
      </div>
    </div>
    <script rel="javascript" type="text/javascript" href="js/jquery-1.11.3.min.js">
      AOS.init();
      new Sticky('.sticky-effect');

      let stateBay3 = true;
      let pickedBayValue = '';

      document.getElementById("continueBooking").style.display = "none";
      document.getElementById("pickABay").style.display = "none";
      
      function bookABay3() {
        if (stateBay3) {
            document.getElementById("car3").style.color = "#F3FF6B";
            document.getElementById("continueBooking").style.display = "block";

            document.getElementById("pickABay").innerHTML = 'A3 is picked for reservation';
            document.getElementById("pickABay").style.display = "block";
            pickedBayValue = 'A3';

            stateBay3 = false;
        }else{
            document.getElementById("car3").style.color = "#6BFF84"; 
            document.getElementById("continueBooking").style.display = "none";

            document.getElementById("pickABay").innerHTML = '';
            document.getElementById("pickABay").style.display = "none";
            pickedBayValue = '';

            stateBay3 = true; 
        }    
      }
      function bookAParkingBay(){
        var a = document.getElementById('continueBooking');
        var url = "/bookingForm/"+pickedBayValue;
        console.log(url);
        a.setAttribute('href',  url);
      }
    </script>
  </body>
</html>
